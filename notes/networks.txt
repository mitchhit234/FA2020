8-24

The internet is billions of connected computing devices of three types:
	
	Computing Devices:
	Hosts/end systems, they run network apps at internet's "edge"

	Routers:
	Packet switches: forward "packets" between hosts (chunks of data)
	Ex: routers, switches

	Links:
	Communication links (wired and wireless)
	Ex: fiber, copper, radio, satellite
	Transmission rate: bandwith


Networks are a collection of devices, routers, and links, managed by an organization

The internet is essentially a network of networks (Interconnected ISPs)





The internet is also an infrastructure that provides services to applications

Protocols control sending and reciving of messages
Ex: HTTP, ICP, IP, WiFi, 4G, Ethernet

Internet standards
RFC: Request for comments
IETF: Internet Engineering Task Force


Network core consists of interrconnected routers
Ex: local/regional or national/global ISPs (11)



The internet provides a programming interface to distributed applications

Hooks allow sending/reciving of apps to connect to and use internet transport service

Provides service options, similar to postal service



Back to the internet structure:

Connect end systems to edge routers with:
Residential access nets
Institutional acces networks (school, company)
Mobile access networks (WiFi, 4G, 5G)

Tranmission rate and shared/dedicated access among users effect performance





8-26

Frequency division multiplexing (FDM) are different channels transmitting different frequency bands


Acces via cable based: (14)
Hybrid fiber coax (HFC) has up to 1.2 Gbs down, up to 100 Mbps up

Acces via digital subscriber line: (13)
use existing telephone line to central office DSLAM
up to 50 Mbps down, 16 Mbps up



Wireless access networks is shared among multipule end systems and connects them to the router

Wireless local area networks (WLAN) are typically within or around building (100ft)

Wide area celluar access networks are provided by celluar networks, typically 10km radius, slower transmission rate than WLANs


Enterprise networks are operated by companies, universities, etc
Mix of wired, wireless linked technologies, connecting multipule different switches and routers





Host sending function:
takes application message,
breaks into smaller chuncks, known as packets, of length L bits,
transmits packet into access network at link transmission rate R

packet transmission delay = L/R (bits/bits per second)



Links: physical media

bit propagates between transmitter and reciever
the physical link is what lies between transmitter and reciever
guided media is when signals propogate in a solid media (copper, fiber, coax)
unguded media is when signals propogate freely (radio, WiFi)

types of solid media:
twisted pair - two insulated copper wires (Cat 5/6)
coaxial cable - two concentric copper conductors, bidirectional, brodband. multipule frequency channels on cable, 100's Mbps per channel
fiber optic cable - glass fiber carrying light pulses, each pulse being a bit. high speed operation (100's Gbps), low error rate (immune to electromagnetic noise)

types of unguided media:
wireless radio - signal carried in electromagnetic spectrum. can be obstructed by the environment
terrstrial microwave, wireless LAN, wide area celluar, satellite





Packet-switching is when the hosts break application-layer messahes into packets
Transmission delay takes L/R seconds to transmit an L-bit packet at R bps
Store and forward: entire packet must arrive at router before it can be transmitted to the next link
End-end delay: 2L/R(above), assuming zero propagation delay

Packet queuing and loss: if arrival rate to link exceeds the transmission rate of link, packets will queue, waiting to be transmitted on output link OR packets can be dropped if memory buffer in router fills up

Forwarding: local action, move arriving packets from router's input link to appropriate router output link
Routing: global action, determine source to destination paths taken by packets



Circuit switching is an alternative to packet switching where end-end resources are allocated, and reserved for a call between the source and destination
Has dedicated resources, no sharing enables guaranteed performance
Circuit segment idle if not being used by that specific host
Not used that much today, but used in traditional telephone networks


Frequency Division Multiplexing (FDM) is like the way described above

Time Division Multiplexing (TDM) has slots divided by time, each call allocated can transmit at maximum rate of wider freqeucny bands, but only during its time slots






8-30


Packet switching vs Circuit switching

Packet switching allows more users to use the network
Ex: 1 Gb/s, each user has 100Mb/s when active, but only active 10% of the time

Circuit switching would allow up to 10 users
Packet switching could allow 35 users easily, the probability that there are more than 10 active users at a time is less than 0.4%

Packet switchintg is great for "bursty" data, but is also exposed to packet dealy and loss due to buffer overflow




Internet structure:

Hosts connect to internet via access ISPs
Access ISPs are connected to each other, so any two hosts can send packets to each other
Resulting network of networks is very complex, its evolution was driven by economics and national policies

How do ISPs connect to each other?

Connecting each asccess ISP to each other directly doesnt scale well [O(n^2)]

One option is connecting each access ISP to one global transit ISP. Customer and provider ISPs work with each other to accomplish that
There are more than one global ISP however; the market is competitive

Global ISPs connect via an IXP (internet exchange point) or peering link (direct connecting between 2 global ISPs)
Regional ISPs may also arise to connect cunsomer ISPs to Global ISPs

Then Content provider networks (Google, Microsoft) may run their own network 
to bring services and conent close to end users, bypassing tier 1 and even regional ISPs




Packet delay, the four soucres:

Nodal delay = d_proc + d_queue + d_trans + d_prop

nodal processing: check bit errors, determine output link, typically < ms

queueing delay: time waiting at output link for transmission, depends on cogestion level of router

transmission delay: packet length divided by transmission rate (bps) (L/R)

propagation delay: length of physical link divided by propagation speed (2x10^8 meters per second) (d/s)


Throughput: rate at which bits are being sent from sender to reciever

instantaneous: rate at a given point and time
average: rate over longer period of time





8-31

Networks are complex with many pieces
- hosts
- routers
- links of various media
- applications
- protocols
- hardware, software


Layers: each layer implements a service cia its own internal-layer actions. They rely on services provided by layers before
Explicit structure allows identification, relationship of complex system's pieces
Modularization eases maintenance, updating of system
Changes in layer's service implementation is transparent to the rest of the system


Internet Protocol Stack is each layer put together (51)

- Application Layer
Supporting network applications (IMAP, SMTP, HTTP)

- Transport Layer
Process-process data transfer (TCP, UDP)

- Network Layer
Routing of datagrams from source to destination (IP, Routing Protocols)

- Link Layer
Data transfer between neighboring network elements (Ethernet, 802,11, WiFi, PPP)

- Physical Layer
Bits "on the wire"





Internet was not originally designed with much security in mind. It was thought that it would contain a group of mutually trusting users attached to a transparent network
Internet protocl designers have been trying to patch this issue


Malware can get in to a host from:

A virus - self replicating infection by receiving and executing object (EX: email attachment)
A worm - self rplicating infection by passively receiving object that gets itself executed

Spyware malware can record keystrokes, web sites visited, and upload info to a collection site

Infected host can be enrolld in botnet, used for spam or distributed denial of service (DDos) attacks

Denial of Service attackers make resources unavaliable to legitimate traffic by overwhelming the resource with bogus traffic

Packet "sniffing" is reading/recording all packets passing by 

IP spoofing sends packets with a false source address





9-2

Application Layer Chapter


Creating a network app:
- runs of different end systems
- communicates over network

No need to write software for network core devices. They do not run user applications. Putting applications on end systems allows for rapid app development and propagation


Application architectures:
- Client Server (includes data centers/cloud computing)
- Peer to Peer (P2P)
- Hybrid of client and P2P


Client Server
Server:
- always on host
- permenant IP address
- often in data centers, scalable

Client:
- contact and communicate with server
- may be intermittently connected
- may have a dynamic IP address
- do not communicate directly with other clients

Examples: HTTP, IMAP, FTP



Peer to Peer:
- no always on server
- abitrary end systems directly communicate
- peers request service from other peers, provide service in return
- peers are intermittently connected and change IP addresses

Examples: P2P File Sharing



Examples of Hybrid Systems: Skype, Zoom, IM




Process communications
Process: program running within a host

Within a host, two processes communicate using inter process communication

Processes in different hosts communicate by exchanging messages

Client Process: process that initiates communication
Server Process: process that waits to be contacted



Processes send and recieve messages to/from its socket
Socket is similar to a door:
- Sending process shoves message out the door
- Sending process relies on transport infastructure on the other side of the door to deliver the message to the socket at receiving process
- Two sockets involved, one sending one receiving


Addressing processes
Example port numbers:
- HTTP Server: 80
- Mail Server: 25

Application layer protocol:
Defines type of messages exchanged (requests, response)
Defines message syntax
Defines message Semantics


Public Domain (open protocols) defined in RFC'sm everyone has access to protocol definition

Proprietary does not reveal the rules for their protocols (closed protocols)


As it comes to data loss, some apps require 100% reliable data transfer, while some other apps (like audio apps) tolerate some data loss

Some apps require low delay to be effective, so timing is an important variable

Some apps requrie a minimum amount of throughput to be effective


Internet transport protocols services

TCP Service:
- reliable transport
- flow control, sender wont overwhelm reciever
- congestions control, throttle sender when network overloaded
- does not provide timing, minimum throughput guarantee, security
- connection oriented, setup required between client and server processes

UDP Service:
- unreliable data transfer between sending and receiving process
- does not provide reliability, flow control, congestion control, timing, throughput, security, or connection setup


Securing TCP:

Security Socket Layer (SSL):
- provides encrypted TCP connections
- data integrity 
- end point authentication
SSL is implemented in the application layer





Web and HTTP

Web page consists of objects stored on different Web Servers
Objects can be HTML files, Jpg images, java applet, audio file, etc.
Web page is addressed by a URL (protocol -> host name -> path name)

HTTP stands for hypertext transfer protocol
- Is an application layer protocol
- Client/Server model
Client requests, recieves, and displays web objects
Server sends objects in response to requests

HTTP uses TCP
- Client initiates TCP connection to server port 80
- Server accepts
- HTTP messages exchanged between browser and web server
- TCP connection closed

HTTP is stateless, meaning no information is kept on the server's side about past client requests

Persistent HTTP vs Non Persistent HTTP

Non-persistent HTTP only sends one object per TCP connection at a time. To request multipule objects requires multipule connections

Persistent HTTP leaves the TCP connection open after the server already sent the response. Usually the TCP connection will close after a certain time. Minamilizes the amount of RTT's in a transaction between a client and server



HTTP Request Messages, two types:
Request - ASCII (human readable) consists of request line, header lines, carriage return
Response - ASCII (human readable) consists of status line, header lines, data

Maintaining user/server state: cookies
Websites and client browsers use cookies to maintain some state between transactions
Four components of cookies:
- Cookie header line of HTTP response message
- Cookie header line in next HTTP request message
- Cookie file kept on user's host, managed by user's browser
- Back end database at Web Site's server

Web Caches (Proxy Servers)
Satisfy client requests without involving origin server
User configures browser to point to a web cache
Browser sends all HTTP requests to cache
If object is in the cache, cache returns object to the client, else cache requests object from origin server



Email

Three Major Components:
User agents - mail reader, composes edits and reads messages
Mail Servers - contains incoming messages, messaging queue, and SMTP protocol
Simple Mail Transfer Protocol

SMPT
Uses AT port 25
Direct transfering between servers
Three phases of transfer:
- Handshaking, Transfer, Closure
Command/response interaction is like HTTP

HTTP PULL, SMTP PUSH
Single part vs Multi part message
8 bit vs 7 bit

Mail Access Protocols:
Internet Mail Access Protocol (IMAP) - provides retreival, deletion, and folders
HTTP - Web based interface on top of SMTP, the IMAP deals with retrieving message info




Domain Name System (DNS)

Distributed database implemented in the hierarchy of many name servers
Implememnted as application-layer protocol
Hostname to IP address Translation
Host Aliasing
Mail Server Aliasing

Why not centralize DNS?
Single Point of Failure
Traffic Volume
Distant Centralized Database

Cenrtalized doesn't scale well, comcast dns servers alone have 600B queries a day


Hierarchial DNS Database
Root DNS Servers -> Top level domain (split up by .com, .edu, etc) -> Authorative 

Root Servers are an incredibley inportant internet function
Also provide DNSSEC - provides security

ICANN Internet Corporation for Assigned Names and Numbers manages root DNS domain

Iterative queries are considered best practice for DNS queries
SMTP uses TCP
DNS uses TCP and UDP


9-14

Chapter 3 Transport Layer

Sender breaks application messages into segements, passes it down to network layer. When the receiver gets it, reassembles segments and passes it to its application layer

Network layer provides logical communication between hosts

Transport layer provides logical communication between processes


